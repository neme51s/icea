{% extends 'base.html' %}
{% load static %}

{% block title %}ICEA - Независимый Центр Экспертизы и Оценки{% endblock %}

{% block content %}
<!-- Слайдер с автопереключением -->
<div class="container-fluid px-0">
    <div id="heroCarousel" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-indicators">
            <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="0" class="active"></button>
            <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="1"></button>
            <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="2"></button>
        </div>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="{% static 'images/slides/slide1.jpg' %}" class="d-block w-100" 
                     alt="Оценка имущества"
                     onerror="this.src='{% static 'images/placeholder.jpg' %}'">
                <div class="carousel-caption">
                    <h3>Оценка имущества</h3>
                    <p>Профессиональная оценка недвижимости, транспорта, бизнеса.</p>
                </div>
            </div>
            <div class="carousel-item">
                <img src="{% static 'images/slides/slide2.jpg' %}" class="d-block w-100" 
                     alt="Консалтинг"
                     onerror="this.src='{% static 'images/placeholder.jpg' %}'">
                <div class="carousel-caption">
                    <h3>Бизнес-консалтинг</h3>
                    <p>Стратегии развития, оптимизация процессов, финансовый анализ.</p>
                </div>
            </div>
            <div class="carousel-item">
                <img src="{% static 'images/slides/slide3.jpg' %}" class="d-block w-100" 
                     alt="Тренинги"
                     onerror="this.src='{% static 'images/placeholder.jpg' %}'">
                <div class="carousel-caption">
                    <h3>Тренинги и обучение</h3>
                    <p>Повышение квалификации, семинары, профессиональные тренинги.</p>
                </div>
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon"></span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon"></span>
        </button>
    </div>
</div>

<!-- Основной контент -->
<div class="container content-section">
    <div class="row">
        <div class="col-lg-8 mx-auto text-center animate-on-scroll">
            <h2 class="section-title">Добро пожаловать в ICEA</h2>
            <p class="lead">
                Независимый Центр Экспертизы и Оценки (ICEA) — это команда профессионалов, предоставляющих полный спектр услуг по оценке, консалтингу, обучению и юридическому сопровождению.
            </p>
            <p>
                Наша миссия — помогать клиентам принимать обоснованные решения на основе точных данных и глубокого анализа.
            </p>
            <a href="{% url 'about_company' %}?lang={{ lang }}" class="btn btn-lg mt-4">Подробнее о нас</a>
        </div>
    </div>

    <div class="row mt-5">
        <div class="col-md-3 col-sm-6 mb-4">
            <div class="card h-100 animate-on-scroll">
                <div class="card-body text-center">
                    <i class="fas fa-balance-scale fa-3x mb-3" style="color: var(--icea-green);"></i>
                    <h4 class="card-title">Оценка</h4>
                    <p class="card-text">Точная оценка любого вида активов с юридическим обоснованием.</p>
                </div>
            </div>
        </div>
        <div class="col-md-3 col-sm-6 mb-4">
            <div class="card h-100 animate-on-scroll">
                <div class="card-body text-center">
                    <i class="fas fa-chart-line fa-3x mb-3" style="color: var(--icea-green);"></i>
                    <h4 class="card-title">Консалтинг</h4>
                    <p class="card-text">Стратегический и финансовый консалтинг для бизнеса.</p>
                </div>
            </div>
        </div>
        <div class="col-md-3 col-sm-6 mb-4">
            <div class="card h-100 animate-on-scroll">
                <div class="card-body text-center">
                    <i class="fas fa-graduation-cap fa-3x mb-3" style="color: var(--icea-green);"></i>
                    <h4 class="card-title">Обучение</h4>
                    <p class="card-text">Тренинги и семинары для повышения профессиональных компетенций.</p>
                </div>
            </div>
        </div>
        <div class="col-md-3 col-sm-6 mb-4">
            <div class="card h-100 animate-on-scroll">
                <div class="card-body text-center">
                    <i class="fas fa-gavel fa-3x mb-3" style="color: var(--icea-green);"></i>
                    <h4 class="card-title">Юридические услуги</h4>
                    <p class="card-text">Полное юридическое сопровождение бизнеса и физических лиц.</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Статистика -->
<div class="container-fluid py-5" style="background-color: var(--icea-gray);">
    <div class="container">
        <div class="row text-center">
            <div class="col-md-3 col-6 mb-4">
                <div class="counter" data-target="500">0</div>
                <h5>Завершённых проектов</h5>
            </div>
            <div class="col-md-3 col-6 mb-4">
                <div class="counter" data-target="100">0</div>
                <h5>Постоянных клиентов</h5>
            </div>
            <div class="col-md-3 col-6 mb-4">
                <div class="counter" data-target="20">0</div>
                <h5>Лет опыта</h5>
            </div>
            <div class="col-md-3 col-6 mb-4">
                <div class="counter" data-target="30">0</div>
                <h5>Профессиональных экспертов</h5>
            </div>
        </div>
    </div>
</div>

<!-- Почему выбирают нас -->
<div class="container content-section">
    <div class="row">
        <div class="col-12 text-center mb-5">
            <h2 class="section-title">Почему выбирают ICEA?</h2>
        </div>
    </div>
    <div class="row">
        <div class="col-md-4 mb-4">
            <div class="card h-100 border-0 shadow-sm">
                <div class="card-body text-center p-4">
                    <i class="fas fa-award fa-3x mb-3" style="color: var(--icea-green);"></i>
                    <h4 class="card-title mb-3">Профессионализм</h4>
                    <p class="card-text">Наши эксперты имеют профильное образование и международные сертификаты.</p>
                </div>
            </div>
        </div>
        <div class="col-md-4 mb-4">
            <div class="card h-100 border-0 shadow-sm">
                <div class="card-body text-center p-4">
                    <i class="fas fa-shield-alt fa-3x mb-3" style="color: var(--icea-green);"></i>
                    <h4 class="card-title mb-3">Конфиденциальность</h4>
                    <p class="card-text">Информация клиентов строго защищена согласно международным стандартам.</p>
                </div>
            </div>
        </div>
        <div class="col-md-4 mb-4">
            <div class="card h-100 border-0 shadow-sm">
                <div class="card-body text-center p-4">
                    <i class="fas fa-clock fa-3x mb-3" style="color: var(--icea-green);"></i>
                    <h4 class="card-title mb-3">Пунктуальность</h4>
                    <p class="card-text">Мы всегда соблюдаем сроки и предоставляем результаты вовремя.</p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
// Анимация счетчиков
document.addEventListener('DOMContentLoaded', function() {
    const counters = document.querySelectorAll('.counter');
    const speed = 200;

    const animateCounter = (counter) => {
        const target = +counter.getAttribute('data-target');
        const count = +counter.innerText;
        const increment = target / speed;

        if (count < target) {
            counter.innerText = Math.ceil(count + increment);
            setTimeout(() => animateCounter(counter), 10);
        } else {
            counter.innerText = target;
        }
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                animateCounter(entry.target);
                observer.unobserve(entry.target);
            }
        });
    }, { threshold: 0.5 });

    counters.forEach(counter => {
        observer.observe(counter);
    });
});
</script>
{% endblock %}