{% extends 'base.html' %}
{% load static %}

{% block title %}ICEA - Independent Center of Expertise and Appraisal{% endblock %}

{% block content %}
<!-- Slider with auto-switching -->
<div class="container-fluid px-0">
    <div id="heroCarousel" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-indicators">
            <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="0" class="active"></button>
            <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="1"></button>
            <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="2"></button>
        </div>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="{% static 'images/slides/slide1.jpg' %}" class="d-block w-100" 
                     alt="Property Valuation"
                     onerror="this.src='{% static 'images/placeholder.jpg' %}'">
                <div class="carousel-caption">
                    <h3>Property Valuation</h3>
                    <p>Professional valuation of real estate, vehicles, and businesses.</p>
                </div>
            </div>
            <div class="carousel-item">
                <img src="{% static 'images/slides/slide2.jpg' %}" class="d-block w-100" 
                     alt="Business Consulting"
                     onerror="this.src='{% static 'images/placeholder.jpg' %}'">
                <div class="carousel-caption">
                    <h3>Business Consulting</h3>
                    <p>Development strategies, process optimization, financial analysis.</p>
                </div>
            </div>
            <div class="carousel-item">
                <img src="{% static 'images/slides/slide3.jpg' %}" class="d-block w-100" 
                     alt="Training and Education"
                     onerror="this.src='{% static 'images/placeholder.jpg' %}'">
                <div class="carousel-caption">
                    <h3>Training and Education</h3>
                    <p>Professional development, seminars, professional training.</p>
                </div>
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon"></span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon"></span>
        </button>
    </div>
</div>

<!-- Main Content -->
<div class="container content-section">
    <div class="row">
        <div class="col-lg-8 mx-auto text-center animate-on-scroll">
            <h2 class="section-title">Welcome to ICEA</h2>
            <p class="lead">
                Independent Center of Expertise and Appraisal (ICEA) is a team of professionals providing a full range of services in valuation, consulting, training, and legal support.
            </p>
            <p>
                Our mission is to help clients make informed decisions based on accurate data and in-depth analysis.
            </p>
            <a href="{% url 'about_company' %}?lang={{ lang }}" class="btn btn-lg mt-4">Learn More About Us</a>
        </div>
    </div>

    <div class="row mt-5">
        <div class="col-md-3 col-sm-6 mb-4">
            <div class="card h-100 animate-on-scroll">
                <div class="card-body text-center">
                    <i class="fas fa-balance-scale fa-3x mb-3" style="color: var(--icea-green);"></i>
                    <h4 class="card-title">Valuation</h4>
                    <p class="card-text">Accurate valuation of any type of assets with legal justification.</p>
                </div>
            </div>
        </div>
        <div class="col-md-3 col-sm-6 mb-4">
            <div class="card h-100 animate-on-scroll">
                <div class="card-body text-center">
                    <i class="fas fa-chart-line fa-3x mb-3" style="color: var(--icea-green);"></i>
                    <h4 class="card-title">Consulting</h4>
                    <p class="card-text">Strategic and financial consulting for business.</p>
                </div>
            </div>
        </div>
        <div class="col-md-3 col-sm-6 mb-4">
            <div class="card h-100 animate-on-scroll">
                <div class="card-body text-center">
                    <i class="fas fa-graduation-cap fa-3x mb-3" style="color: var(--icea-green);"></i>
                    <h4 class="card-title">Training</h4>
                    <p class="card-text">Trainings and seminars for improving professional competencies.</p>
                </div>
            </div>
        </div>
        <div class="col-md-3 col-sm-6 mb-4">
            <div class="card h-100 animate-on-scroll">
                <div class="card-body text-center">
                    <i class="fas fa-gavel fa-3x mb-3" style="color: var(--icea-green);"></i>
                    <h4 class="card-title">Legal Services</h4>
                    <p class="card-text">Complete legal support for businesses and individuals.</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Statistics -->
<div class="container-fluid py-5" style="background-color: var(--icea-gray);">
    <div class="container">
        <div class="row text-center">
            <div class="col-md-3 col-6 mb-4">
                <div class="counter" data-target="500">0</div>
                <h5>Completed Projects</h5>
            </div>
            <div class="col-md-3 col-6 mb-4">
                <div class="counter" data-target="100">0</div>
                <h5>Regular Clients</h5>
            </div>
            <div class="col-md-3 col-6 mb-4">
                <div class="counter" data-target="20">0</div>
                <h5>Years of Experience</h5>
            </div>
            <div class="col-md-3 col-6 mb-4">
                <div class="counter" data-target="30">0</div>
                <h5>Professional Experts</h5>
            </div>
        </div>
    </div>
</div>

<!-- Why Choose Us -->
<div class="container content-section">
    <div class="row">
        <div class="col-12 text-center mb-5">
            <h2 class="section-title">Why Choose ICEA?</h2>
        </div>
    </div>
    <div class="row">
        <div class="col-md-4 mb-4">
            <div class="card h-100 border-0 shadow-sm">
                <div class="card-body text-center p-4">
                    <i class="fas fa-award fa-3x mb-3" style="color: var(--icea-green);"></i>
                    <h4 class="card-title mb-3">Professionalism</h4>
                    <p class="card-text">Our experts have relevant education and international certificates.</p>
                </div>
            </div>
        </div>
        <div class="col-md-4 mb-4">
            <div class="card h-100 border-0 shadow-sm">
                <div class="card-body text-center p-4">
                    <i class="fas fa-shield-alt fa-3x mb-3" style="color: var(--icea-green);"></i>
                    <h4 class="card-title mb-3">Confidentiality</h4>
                    <p class="card-text">Client information is strictly protected according to international standards.</p>
                </div>
            </div>
        </div>
        <div class="col-md-4 mb-4">
            <div class="card h-100 border-0 shadow-sm">
                <div class="card-body text-center p-4">
                    <i class="fas fa-clock fa-3x mb-3" style="color: var(--icea-green);"></i>
                    <h4 class="card-title mb-3">Punctuality</h4>
                    <p class="card-text">We always meet deadlines and deliver results on time.</p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
// Counter animation
document.addEventListener('DOMContentLoaded', function() {
    const counters = document.querySelectorAll('.counter');
    const speed = 200;

    const animateCounter = (counter) => {
        const target = +counter.getAttribute('data-target');
        const count = +counter.innerText;
        const increment = target / speed;

        if (count < target) {
            counter.innerText = Math.ceil(count + increment);
            setTimeout(() => animateCounter(counter), 10);
        } else {
            counter.innerText = target;
        }
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                animateCounter(entry.target);
                observer.unobserve(entry.target);
            }
        });
    }, { threshold: 0.5 });

    counters.forEach(counter => {
        observer.observe(counter);
    });
});
</script>
{% endblock %}